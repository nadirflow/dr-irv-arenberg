/**
 * ZiniAppBuilder Wordpress Plugin for Mobile App.
 * Exclusively on Envato Market: https://codecanyon.net/user/zinisoft/portfolio
 *
 * @encoding        UTF-8
 * @version         1.0.0
 * @copyright       Copyright (C) 2018 - 2019 ZiniSoft ( https://zinisoft.net/ ). All rights reserved.
 * @license         Envato License https://1.envato.market/KYbje
 * @contributors    Brian Vo (info@zinisoft.net), ZiniSoft Team (support@zinisoft.net)
 * @support         support@zinisoft.net
 **/
!function(e){"use strict";jQuery(document).ready((function(){var e=[],a=!1;jQuery("#doaction").on("click",(function(s){if("ziniappbuilder"===jQuery("#bulk-action-selector-top").val()&&(s.preventDefault(),e=[],a=!0,jQuery("#the-list .check-column input:checked").each((function(){e.push(this.value)})),e.length)){var t=(e=e.reverse()).pop();jQuery("#post-"+t+" .zs-ziniappbuilder-gen").click(),jQuery("#cb-select-"+t).click()}})),jQuery(document).on("click",".zs-ziniappbuilder-gen",(function(s){var t=jQuery(this),r=t.parent();if(s.preventDefault(),!t.hasClass("is-busy")){r.find("a").addClass("is-busy").attr("disabled",!0),t.find("img").remove();var c=jQuery(this).data("post-id"),n={action:"gtts",security:zs_ziniappbuilder.ajax_nonce,post_id:c};jQuery.ajax({type:"POST",url:ajaxurl,data:n,success:function(s){if(s.success?(r.html('<a href="'+zs_ziniappbuilder.audio_url+"post-"+c+'.mp3" download="" class="zs-ziniappbuilder-download"></a>'),r.append('<a href="#" class="zs-ziniappbuilder-gen" data-post-id="'+c+'" style="display: none;"></a>')):l(s),e.length){var t=e.pop();jQuery("#post-"+t+" .zs-ziniappbuilder-gen").click(),jQuery("#cb-select-"+t).click()}else a&&(a=!1,alert("Generation of Audio Files is Complete."))},fail:function(a){if(r.html('<a href="#" class="zs-ziniappbuilder-error"></a>'),l(a),e.length){var s=e.pop();jQuery("#post-"+s+" .zs-ziniappbuilder-gen").click(),jQuery("#cb-select-"+s).click()}}})}function l(e){console.log(e),e.message?alert("ERROR:\n "+e.message):e.responseText?alert("ERROR:\n "+e.responseText):alert("ERROR:\n "+e)}}))}))}(jQuery);